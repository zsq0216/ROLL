{"id":"toy_0001","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `parse_kv_pairs(s: str) -> dict[str,str]`.\n\nRules:\n- Input is like: \"a=1,b=2\" (comma-separated key=value)\n- Keys/values may have surrounding spaces; strip them\n- Ignore empty segments (e.g., trailing comma)\n- If a segment has no '=', skip it\n\n### Starter code\n```python\ndef parse_kv_pairs(s: str) -> dict[str, str]:\n    \"\"\"Parse comma-separated key=value pairs.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"You are an expert Python programmer. Implement the function `parse_kv_pairs(s: str) -> dict[str,str]` with the rules: strip spaces, ignore empty segments, skip segments without '='. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_basic():\\n    from solution import parse_kv_pairs\\n    assert parse_kv_pairs('a=1,b=2') == {'a':'1','b':'2'}\\n\\ndef test_spaces_and_trailing():\\n    from solution import parse_kv_pairs\\n    assert parse_kv_pairs(' a = 1 , b= 2, ') == {'a':'1','b':'2'}\\n\\ndef test_skip_invalid():\\n    from solution import parse_kv_pairs\\n    assert parse_kv_pairs('a=1,broken,b=2,=x') == {'a':'1','b':'2'}\\n\"}]","ground_truth":"[\"def parse_kv_pairs(s: str) -> dict[str, str]:\\n    out = {}\\n    for seg in s.split(','):\\n        seg = seg.strip()\\n        if not seg or '=' not in seg:\\n            continue\\n        k, v = seg.split('=', 1)\\n        k, v = k.strip(), v.strip()\\n        if not k:\\n            continue\\n        out[k] = v\\n    return out\\n\"]"}
{"id":"toy_0002","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `clamp(n: int, lo: int, hi: int) -> int`.\n\nRules:\n- If n < lo, return lo\n- If n > hi, return hi\n- Otherwise return n\n\n### Starter code\n```python\ndef clamp(n: int, lo: int, hi: int) -> int:\n    \"\"\"Clamp n into the inclusive range [lo, hi].\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `clamp(n: int, lo: int, hi: int) -> int` with the rules: below lo -> lo, above hi -> hi, else n. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_clamp_basic():\\n    from solution import clamp\\n    assert clamp(5, 1, 10) == 5\\n    assert clamp(-1, 0, 3) == 0\\n    assert clamp(9, 0, 7) == 7\\n\"}]","ground_truth":"[\"def clamp(n: int, lo: int, hi: int) -> int:\\n    if n < lo:\\n        return lo\\n    if n > hi:\\n        return hi\\n    return n\\n\"]"}
{"id":"toy_0003","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `count_vowels(s: str) -> int`.\n\nRules:\n- Count vowels a, e, i, o, u\n- Case-insensitive\n- Non-letters are ignored\n\n### Starter code\n```python\ndef count_vowels(s: str) -> int:\n    \"\"\"Count vowels in a string.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `count_vowels(s: str) -> int` counting vowels a,e,i,o,u case-insensitive. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_count_vowels():\\n    from solution import count_vowels\\n    assert count_vowels('Hello') == 2\\n    assert count_vowels('Rhythm') == 0\\n    assert count_vowels('AEIOU!') == 5\\n\"}]","ground_truth":"[\"def count_vowels(s: str) -> int:\\n    vowels = set('aeiou')\\n    return sum(1 for ch in s.lower() if ch in vowels)\\n\"]"}
{"id":"toy_0004","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `reverse_words(s: str) -> str`.\n\nRules:\n- Split by whitespace\n- Reverse word order\n- Join with a single space\n- Leading/trailing spaces should be ignored\n\n### Starter code\n```python\ndef reverse_words(s: str) -> str:\n    \"\"\"Reverse word order in a string.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `reverse_words(s: str) -> str` by reversing whitespace-separated words and joining with single spaces. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_reverse_words():\\n    from solution import reverse_words\\n    assert reverse_words('a b c') == 'c b a'\\n    assert reverse_words('  hello   world ') == 'world hello'\\n\"}]","ground_truth":"[\"def reverse_words(s: str) -> str:\\n    parts = s.split()\\n    return ' '.join(reversed(parts))\\n\"]"}
{"id":"toy_0005","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `is_palindrome(s: str) -> bool`.\n\nRules:\n- Consider only alphanumeric characters\n- Case-insensitive\n- Return True if it reads the same forward and backward\n\n### Starter code\n```python\ndef is_palindrome(s: str) -> bool:\n    \"\"\"Check whether a string is a palindrome.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `is_palindrome(s: str) -> bool` using only alphanumerics, case-insensitive. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_is_palindrome():\\n    from solution import is_palindrome\\n    assert is_palindrome('A man, a plan, a canal: Panama') is True\\n    assert is_palindrome('race a car') is False\\n\"}]","ground_truth":"[\"def is_palindrome(s: str) -> bool:\\n    cleaned = ''.join(ch.lower() for ch in s if ch.isalnum())\\n    return cleaned == cleaned[::-1]\\n\"]"}
{"id":"toy_0006","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `unique_preserve_order(items: list[str]) -> list[str]`.\n\nRules:\n- Return a new list\n- Keep first occurrence of each item\n- Preserve original order\n\n### Starter code\n```python\ndef unique_preserve_order(items: list[str]) -> list[str]:\n    \"\"\"Return unique items preserving order.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `unique_preserve_order(items: list[str]) -> list[str]` keeping first occurrences in order. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_unique_preserve_order():\\n    from solution import unique_preserve_order\\n    assert unique_preserve_order(['a','b','a','c','b']) == ['a','b','c']\\n    assert unique_preserve_order([]) == []\\n\"}]","ground_truth":"[\"def unique_preserve_order(items: list[str]) -> list[str]:\\n    seen = set()\\n    out = []\\n    for item in items:\\n        if item in seen:\\n            continue\\n        seen.add(item)\\n        out.append(item)\\n    return out\\n\"]"}
{"id":"toy_0007","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `merge_dicts(a: dict[str,int], b: dict[str,int]) -> dict[str,int]`.\n\nRules:\n- Return a new dict\n- Keys from both dicts\n- If key in both, sum the values\n\n### Starter code\n```python\ndef merge_dicts(a: dict[str,int], b: dict[str,int]) -> dict[str,int]:\n    \"\"\"Merge two dicts by summing overlapping keys.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `merge_dicts(a: dict[str,int], b: dict[str,int]) -> dict[str,int]` summing overlapping keys. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_merge_dicts():\\n    from solution import merge_dicts\\n    assert merge_dicts({'a':1,'b':2}, {'b':3,'c':4}) == {'a':1,'b':5,'c':4}\\n    assert merge_dicts({}, {'x':1}) == {'x':1}\\n\"}]","ground_truth":"[\"def merge_dicts(a: dict[str,int], b: dict[str,int]) -> dict[str,int]:\\n    out = dict(a)\\n    for k, v in b.items():\\n        out[k] = out.get(k, 0) + v\\n    return out\\n\"]"}
{"id":"toy_0008","source":"toy_swe","difficulty":"0","tag":"code_sandbox","prompt":"You are an expert Python programmer.\n\n### Task\nImplement the function `safe_divide(a: float, b: float) -> float`.\n\nRules:\n- If b == 0, return 0.0\n- Otherwise return a / b\n\n### Starter code\n```python\ndef safe_divide(a: float, b: float) -> float:\n    \"\"\"Divide with a zero check.\"\"\"\n```\n\n### Answer\nReturn ONLY python code, no markdown.","messages":"[{\"role\":\"user\",\"content\":\"Implement `safe_divide(a: float, b: float) -> float` returning 0.0 when b==0 else a/b. Return ONLY python code.\"}]","case_type":"pytest","test_case_function":" ","test_cases":"[{\"assert_code\":\"\\n\\n\\ndef test_safe_divide():\\n    from solution import safe_divide\\n    assert safe_divide(10, 2) == 5.0\\n    assert safe_divide(1, 0) == 0.0\\n\"}]","ground_truth":"[\"def safe_divide(a: float, b: float) -> float:\\n    if b == 0:\\n        return 0.0\\n    return a / b\\n\"]"}
